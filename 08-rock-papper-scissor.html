<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        .btn{
            border-radius: 50%;
            font-size: 100px;
            padding: 2rem;
            background-color: chartreuse;
            color: rgb(127, 121, 121)(127, 121, 121);
            border: 1px solid black;
            margin-right: 3rem;
        }
        .reset{
            border-radius: 15%;
            font-size: 70px;
            padding: 1rem;
            /* width: 18rem; */
            background-color:aqua;
            color: red;
            border: 1px solid black;

        }
        h1{
            text-align: center;
            margin-top: 2rem ;
            margin-bottom: 4rem ;
            color: darkblue;
            font-size: 50px;
        }
        
    </style>
</head>

<body>
    <h1>Rock papper Scissor</h1>

    <button class="btn" onclick="
         playGame('rock'); 

    "><i class="fa-solid fa-hand-back-fist"></i></button>
    <button  class="alert btn" onclick="playGame('papper');
    "><i class="fa-solid fa-hand"></i></button>

    <button class="btn" onclick="playGame('scissor');
    "><i class="fa-solid fa-hand-peace"></i></button>
    <button class="reset" onclick="
    score.wins=0;
    score.losses=0;
    score.ties=0;
    localStorage.removeItem('score');
    ">Reset score</button>
    <script>

        let score = JSON.parse(localStorage.getItem('score')) || 
        {
                wins : 0,
                losses:0,
                ties:0
            };

       /* if(score === null){
            score = {
                wins : 0,
                losses:0,
                ties:0
            }
        }
        */


        // const score={
        //     wins: 0,
        //     losses:0,
        //     ties:0
        // }


        function playGame(playerMove) {
            const computerMove = pickComputerMove();

            let result = '';

            if (playerMove === 'scissor') {
                if (computerMove === 'rock') {
                    result = 'you lose';
                }
                else if (computerMove === 'papper') {
                    result = 'you win';
                }
                else if (computerMove === 'Scissor') {
                    result = 'tie';
                }

            }
            else if (playerMove === 'papper') {
                /*const computerMove = pickComputerMove();
                // console.log(computerMove);

                let result = '';
                */
                if (computerMove === 'rock') {
                    result = 'you win';
                }
                else if (computerMove === 'papper') {
                    result = 'tie';
                }
                else if (computerMove === 'Scissor') {
                    result = 'you lose';
                }
            }

            else if (playerMove === 'rock') {
               /* const computerMove = pickComputerMove();
                // console.log(computerMove);

                let result = '';*/

                if (computerMove === 'rock') {
                    result = 'tie';
                }
                else if (computerMove === 'papper') {
                    result = 'you lose';
                }
                else if (computerMove === 'Scissor') {
                    result = 'you win';
                }
            }

            if(result === 'you win'){
                score.wins +=1;
            }
            else if(result === 'you lose'){
                score.losses +=1;
            }
           else if(result === 'tie'){
                score.ties +=1;
            }
            
            localStorage.setItem('score',JSON.stringify(score));

            alert(`you picked ${playerMove},computer picked ${computerMove},${result}
            wins ${score.wins},losses ${score.losses},tie ${score.ties}`)
        }


        function pickComputerMove() {
            const randomNumber = Math.random();
            let computerMove = '';
            if (randomNumber >= 0 && randomNumber < 1 / 3) {
                computerMove = 'rock';
            }
            else if (randomNumber >= 1 / 3 && randomNumber < 2 / 3) {
                computerMove = 'papper';
            }
            else if (randomNumber >= 2 / 3 && randomNumber < 1) {
                computerMove = 'Scissor';
            }
            return computerMove;
        }

    </script>
</body>

</html>